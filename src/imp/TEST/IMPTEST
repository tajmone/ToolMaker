#!/bin/sh
echo "USE STEAM!!!!"
exit

## old contents:
echo -n "Testing "
../imp -help 2> .revision
head -1 .revision
for f in addval case comment common emptystr include keep macro misc pwspa val index includePars loop message expression stringchars emptyval condition defined in insert nonempty region set text eset exit1 exit2 exit3 exit4 crossref system bugs DOL 
do
    echo "-------------------------"
    echo "Imping $f.tst"
    echo "-------------------------"
    ../imp -u $f.tst $f.out
    echo "-------------------------"
    echo "Diffing $f.tst"
    echo "-------------------------"
    diff $f.out $f.ref
done >imptest.log 2>&1
for f in dbsSigSurv.ssurv ArrayAttributeType.cc ArrayAttributeType.hh Attribute.cc Attribute.hh AttributeProperty.cc AttributeProperty.hh AttributeType.cc AttributeType.hh Boolean.cc Boolean.hh BooleanValue.cc BooleanValue.hh Class.cc Class.hh ClassAttributes.cc ClassAttributes.hh DOL.cc DOL.hh DbEntity.cc DbEntity.hh DbObject.cc DbObject.hh DynString.cc DynString.hh DynamicString.cc DynamicString.hh DynamicStructure.cc DynamicStructure.hh Element.cc Element.hh Float.cc Float.hh FloatValue.cc FloatValue.hh Integer.cc Integer.hh IntegerValue.cc IntegerValue.hh Name.cc Name.hh NilValue.cc NilValue.hh PersistentElement.cc PersistentElement.hh PersistentStructure.cc PersistentStructure.hh PredefinedType.cc PredefinedType.hh PrimitiveValue.cc PrimitiveValue.hh Relation.cc Relation.hh StringValue.cc StringValue.hh Structure.cc Structure.hh StructureValue.cc StructureValue.hh UniqueName.cc UniqueName.hh Value.cc Value.hh VolatileElement.cc VolatileElement.hh keySpecifikation.cc keySpecifikation.hh 
do
    echo "-------------------------"
    echo "Diffing $f"
    echo "-------------------------"
    diff $f $f.ref
done >>imptest.log 2>&1
cat imptest.log | grep -v "ault - core dumped" >imptest.logmod
diff imptest.logmod imptest.ref
