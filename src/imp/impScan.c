

/*----------------------------------------------------------------------*\

	impScan.c

	ScannerMaker generated scanner

\*----------------------------------------------------------------------*/



#include <stdio.h>

#include <stdlib.h>
#include <string.h>

#include "impScan.h"

/* Local imports */

extern int impScReader( impScContext smThis, unsigned char *smBuffer, unsigned int smLength );

extern int impScAction( impScContext smThis, int smInternalCode, TmToken *smToken );

extern int impScPostHook( impScContext smThis, TmToken *smToken );



/* System dependencies */


/* These datatypes should be defined to be unsigned integers of length 1, 2
 * and 4 bytes respectively.
 */

typedef unsigned char UByte1;
typedef unsigned short UByte2;
typedef unsigned int UByte4;





/* START of scanning tables */



/*
 * MAP
 *
 * [character] -> character
 *
 */

static UByte1 smMap[256]={
0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15
,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31
,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47
,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63
,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79
,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95
,96,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79
,80,81,82,83,84,85,86,87,88,89,90,123,124,125,126,127
,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143
,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159
,160,161,162,163,164,165,166,167,168,169,170,171,172,173,174,175
,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191
,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207
,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223
,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239
,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255
}
;





/*
 * SCANNER
 *
 * [scanner] -> state
 */

static UByte1 smScanner[5]={
0,1,2,3,4
}
;

/*
 * ACCEPT (internal token code)
 *
 * [state] -> icode
 */

static UByte1 smAccept[216]={
0,0,0,0,0,21,23,63,36,26,27,41,37,44,38,42
,56,31,35,32,47,57,48,49,50,51,69,67,76,77,82,83
,58,60,33,34,45,46,30,68,70,66,1,22,59,55,29,43
,28,65,20,2,19,4,3,64,40,6,5,8,17,7,39,75
,11,10,9,18,12,14,13,15,73,81,16,53,52,79,54,0
,27,57,77,83,22,20,6,17,9,73,79,0,57,22,0,57
,22,0,57,22,0,57,22,0,57,22,0,57,22,0,22,0
,22,0,22,0,22,0,22,0,22,0,22,0,22,0,22,0
,22,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
,0,0,0,0,0,0,57,77,83,22,0,0,0,0,0,0
,57,22,0,0,57,22,0,57,22,0,57,22,0,57,22,22
,22,22,22,22,22,22,22,22,0,0,0,57,0,22,57,22
,22,22,22,22,22,22,22,0,57,22,22,22,22,22,22,0
,22,22,22,22,22,22,22,22
}
;

/*
 * EXTERNAL TOKEN CODE
 *
 * [icode] -> ecode
 */

static UByte1 smTokenCode[84]={
25,29,30,31,35,36,37,38,40,41,42,43,44,45,46,48
,0,0,0,0,19,19,19,19,2,3,4,27,26,21,9,8
,20,22,6,7,12,13,39,32,11,14,28,5,23,24,10,15
,16,17,18,49,50,52,25,33,51,47,47,47,1,2,0,0
,25,47,47,47,47,47,47,47,34,34,34,34,34,34,0,0
,0,0,0,0
}
;

/*
 * EOT and Unknown
 *
 * [scanner] -> icode
 *
 */

static UByte1 smEOTCode[5]={
24,61,70,73,79
}
;
static UByte1 smUnknownCode[5]={
23,60,71,77,83
}
;

/*
 * DFA
 */


static UByte2 smDFArow[216]={
0,46,92,138,184,230,276,322,322,322,368,322,322,322,322,322
,414,460,322,506,552,598,322,322,322,322,644,690,736,782,828,874
,920,322,322,322,322,322,966,322,322,1012,322,1058,322,322,966,966
,966,322,1104,1058,322,1150,1058,322,966,1196,1058,1058,1242,1058,966,322
,1058,1058,1288,1058,1058,1058,1058,1058,1334,322,1058,322,322,1380,322,1426
,322,1472,1518,1564,1610,1656,322,322,322,322,322,1702,1748,1794,1840,1886
,1932,1978,2024,2070,2116,2162,2208,368,2254,2300,2346,2392,2438,2484,2530,2576
,2622,2668,2714,2760,2806,2852,2898,2944,2990,3036,3082,3128,3174,3220,3266,3312
,3358,3404,3450,3496,3542,3588,3634,3680,3726,3772,3818,3864,3910,3956,4002,4048
,4094,1334,4140,4186,4232,1380,4278,4324,4370,4416,4462,4508,4554,4600,4646,4692
,4738,4784,4830,4876,4922,4968,5014,5060,5106,5152,5198,5244,5290,5336,5382,5428
,5474,5520,5566,5612,5658,5704,5750,5796,5842,5888,5934,5980,6026,6072,6118,6164
,6210,6256,6302,6348,6394,6440,6486,6532,966,6578,6624,6670,6716,6762,6808,6854
,6900,6946,6992,7038,7084,7130,7176,7222
}
;


static UByte1 smDFAcol[256]={
0,0,0,0,0,0,0,0,0,1,2,0,0,0,0,0
,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
,1,0,3,4,5,6,0,0,7,8,9,10,11,12,0,13
,14,14,14,14,14,14,14,14,14,14,0,0,15,16,17,18
,0,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33
,34,28,35,36,37,38,39,28,40,41,28,42,0,43,0,28
,0,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33
,34,28,35,36,37,38,39,28,40,41,28,44,0,45,0,0
,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
}
;



  
static UByte1 smDFAval[7268]={
5,5,5,5,5,5,6,5,5,5,5,5,5,5,5,5
,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5
,5,5,5,5,5,5,5,5,5,5,5,5,5,5,
216,7,7,79,8,216,91,9,10,11,12,13,14,15,16,17
,18,19,20,21,150,200,200,200,200,200,200,187,200,200,200,160
,164,81,200,200,200,200,200,200,200,200,22,23,24,25,
94,94,94,26,94,94,27,94,94,94,94,94,94,94,94,94
,94,94,94,94,94,94,94,94,94,94,94,94,94,94,94,94
,94,94,94,94,94,94,94,94,94,94,94,94,94,94,
28,28,28,28,28,28,29,28,28,28,28,28,28,28,28,28
,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28
,28,28,28,28,28,28,28,28,28,28,28,28,28,28,
30,30,30,30,30,30,31,30,30,30,30,30,30,30,30,30
,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30
,30,30,30,30,30,30,30,30,30,30,30,30,30,30,
5,5,5,5,5,5,216,5,5,5,5,5,5,5,5,5
,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5
,5,5,5,5,5,5,5,5,5,5,5,5,5,5,
216,216,216,216,216,216,97,216,216,216,216,216,216,216,216,216
,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216
,216,216,216,216,216,216,216,216,216,216,216,216,216,216,
216,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216
,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216
,216,216,216,216,216,216,216,216,216,216,216,216,216,216,
216,103,80,216,216,216,216,216,216,216,216,216,216,216,216,216
,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216
,216,216,216,216,216,216,216,216,216,216,216,216,216,216,
216,216,216,216,216,216,216,216,216,216,216,216,216,216,16,216
,216,216,216,200,200,200,200,200,200,200,200,200,200,200,200,200
,200,200,200,200,200,200,200,200,200,200,216,216,216,216,
216,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216
,34,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216
,216,216,216,216,216,216,216,216,216,216,216,216,216,216,
216,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216
,35,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216
,216,216,216,216,216,216,216,216,216,216,216,216,216,216,
216,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216
,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216
,216,216,216,36,216,216,216,37,216,216,216,216,216,216,
216,216,216,216,216,216,216,216,216,216,216,216,216,216,200,216
,216,216,216,200,200,200,200,200,200,200,200,200,200,200,200,200
,92,200,200,200,200,200,200,200,200,200,216,216,216,216,
216,216,216,40,216,216,216,216,216,216,216,216,216,216,216,216
,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216
,216,216,216,216,216,216,216,216,216,216,216,216,216,216,
216,216,216,216,216,216,41,216,216,216,216,216,216,216,216,216
,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216
,216,216,216,216,216,216,216,216,216,216,216,216,216,216,
28,28,28,28,28,28,216,28,28,28,28,28,28,28,28,28
,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28
,28,28,28,28,28,28,28,28,28,28,28,28,28,28,
216,216,216,216,216,216,82,216,216,216,216,216,216,216,216,216
,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216
,216,216,216,216,216,216,216,216,216,216,216,216,216,216,
30,30,30,30,30,30,216,30,30,30,30,30,30,30,30,30
,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30
,30,30,30,30,30,30,30,30,30,30,30,30,30,30,
216,216,216,216,216,216,83,216,216,216,216,216,216,216,216,216
,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216
,216,216,216,216,216,216,216,216,216,216,216,216,216,216,
216,216,216,44,216,216,216,216,216,216,216,216,216,216,216,216
,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216
,216,216,216,216,216,216,216,216,216,216,216,216,216,216,
216,216,216,216,216,216,216,216,216,216,216,216,216,216,200,216
,216,216,216,200,200,200,200,200,200,200,200,200,200,200,200,200
,200,200,200,200,200,200,200,200,200,200,216,216,216,216,
216,216,216,216,216,216,216,49,216,216,216,216,216,216,216,216
,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216
,216,216,216,216,216,216,216,216,216,216,216,216,216,216,
216,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216
,216,216,216,43,43,43,43,43,43,43,43,43,43,43,43,43
,43,43,43,43,43,43,43,43,43,43,216,216,216,216,
85,85,52,85,85,85,85,85,85,85,85,85,85,85,85,85
,85,85,85,85,85,85,85,85,85,85,85,85,85,85,85,85
,85,85,85,85,85,85,85,85,85,85,85,85,85,85,
216,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216
,216,216,216,43,43,43,43,43,43,43,43,116,43,43,193,43
,43,43,43,43,43,43,43,43,43,43,216,216,216,216,
216,135,86,216,216,216,216,216,216,216,216,216,216,216,216,216
,216,216,216,43,43,43,43,43,43,43,43,43,43,43,43,43
,43,43,43,43,43,43,43,43,43,43,216,216,216,216,
216,136,87,216,216,216,216,216,216,216,216,216,216,216,216,216
,216,216,216,43,43,43,43,43,43,43,43,43,43,43,43,43
,43,43,43,43,43,43,43,43,43,43,216,216,216,216,
216,139,88,216,216,216,216,216,216,216,216,216,216,216,216,216
,216,216,216,43,43,43,43,43,43,43,43,43,43,43,43,43
,43,43,43,43,43,43,43,43,43,43,216,216,216,216,
216,145,89,216,216,216,216,216,216,216,216,216,216,216,216,216
,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216
,216,216,216,216,216,216,216,216,216,216,216,216,216,216,
216,149,90,216,216,216,216,216,216,216,216,216,216,216,216,216
,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216
,216,216,216,216,216,216,216,216,216,216,216,216,216,216,
79,79,79,32,79,79,33,79,79,79,79,79,79,79,79,79
,79,79,79,79,79,79,79,79,79,79,79,79,79,79,79,79
,79,79,79,79,79,79,79,79,79,79,79,79,79,79,
216,216,216,216,216,216,216,216,216,216,216,216,216,216,200,216
,216,216,216,200,200,200,200,200,200,200,200,200,200,200,200,200
,200,200,200,38,200,200,200,200,200,200,216,216,216,216,
216,111,111,216,216,216,151,216,216,216,216,216,216,216,216,216
,216,216,216,216,216,216,216,113,216,216,216,216,216,115,216,216
,216,216,216,216,216,216,216,216,216,216,216,216,216,216,
216,117,117,216,216,216,152,216,216,216,216,216,216,216,216,216
,216,216,216,216,216,119,216,184,216,216,216,216,216,216,216,216
,216,216,216,216,216,216,216,216,216,216,216,216,216,216,
216,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216
,216,216,216,43,43,43,43,43,51,43,43,43,43,43,43,43
,208,43,43,43,43,43,43,43,43,43,216,216,216,216,
85,85,216,85,85,85,85,85,85,85,85,85,85,85,85,85
,85,85,85,85,85,85,85,85,85,85,85,85,85,85,85,85
,85,85,85,85,85,85,85,85,85,85,85,85,85,85,
216,216,216,216,216,216,100,216,216,216,216,216,216,216,216,216
,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216
,216,216,216,216,216,216,216,216,216,216,216,216,216,216,
216,216,216,216,216,216,216,216,216,216,216,216,216,216,200,216
,216,216,216,200,200,200,46,200,200,200,200,200,200,200,200,200
,200,200,200,200,200,200,200,200,200,200,216,216,216,216,
216,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216
,216,216,216,43,43,43,53,43,43,43,43,43,43,43,43,43
,43,43,43,43,43,43,43,43,43,43,216,216,216,216,
94,94,94,26,94,94,39,94,94,94,94,94,94,94,94,94
,94,94,94,94,94,94,94,94,94,94,94,94,94,94,94,94
,94,94,94,94,94,94,94,94,94,94,94,94,94,94,
216,216,216,216,216,216,216,216,216,216,216,216,216,216,200,216
,216,216,216,200,200,200,47,200,200,200,200,200,200,200,200,200
,200,200,200,200,200,200,200,200,200,200,216,216,216,216,
216,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216
,216,216,216,43,43,43,43,43,43,43,43,43,43,43,43,43
,43,43,43,43,43,54,43,43,43,43,216,216,216,216,
216,97,97,216,216,216,216,42,216,216,216,216,106,216,216,216
,216,216,216,43,198,212,43,153,43,43,43,84,43,183,189,213
,43,43,214,43,161,43,43,43,43,43,216,216,216,216,
216,216,216,216,216,216,216,216,216,216,216,216,216,216,200,216
,216,216,216,200,200,200,200,200,200,200,200,200,200,200,200,200
,200,200,200,200,200,48,200,200,200,200,216,216,216,216,
216,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216
,216,216,216,43,43,43,43,57,43,43,43,114,43,43,43,43
,43,43,43,43,43,43,43,43,43,43,216,216,216,216,
216,100,100,216,216,216,216,45,216,216,216,216,109,216,216,216
,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216
,216,216,216,216,216,216,216,216,216,216,216,216,216,216,
216,216,216,216,216,123,216,216,216,216,216,216,216,216,200,216
,216,216,216,200,200,200,200,200,200,200,200,200,200,200,200,200
,200,200,200,200,200,200,200,200,200,200,216,216,216,216,
216,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216
,216,216,216,43,43,43,43,43,43,43,43,43,43,43,43,43
,43,43,43,43,43,58,43,43,43,43,216,216,216,216,
216,216,216,216,216,216,216,216,216,216,216,216,216,216,200,216
,216,216,216,200,200,200,200,200,200,200,200,200,200,200,200,200
,200,200,200,56,200,200,200,200,200,200,216,216,216,216,
216,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216
,216,216,216,43,43,43,43,43,43,43,43,43,43,43,43,43
,43,43,43,43,43,59,43,43,43,43,216,216,216,216,
216,216,216,216,216,216,216,216,216,216,216,216,50,216,216,216
,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216
,216,216,216,216,216,216,216,216,216,216,216,216,216,216,
216,216,216,216,216,216,216,216,216,216,216,216,216,216,200,216
,216,216,216,200,200,200,62,200,200,200,200,200,200,200,200,200
,200,200,200,200,200,200,200,200,200,200,216,216,216,216,
216,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216
,216,216,216,43,43,43,43,43,43,43,43,43,43,43,43,43
,43,43,60,43,43,43,43,43,43,43,216,216,216,216,
216,216,216,216,216,216,216,216,216,216,216,216,121,216,216,216
,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216
,216,216,216,216,216,216,216,216,216,216,216,216,216,216,
216,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216
,216,216,216,43,43,43,43,43,43,43,43,43,43,43,43,43
,43,43,61,43,43,43,43,43,43,43,216,216,216,216,
216,111,111,216,216,216,216,216,216,216,216,216,216,216,216,216
,216,216,216,216,216,216,216,113,216,216,216,216,216,115,216,216
,216,216,216,216,216,216,216,216,216,216,216,216,216,216,
216,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216
,216,216,216,43,43,43,43,43,43,43,43,43,43,43,43,43
,64,43,43,43,43,43,43,43,43,43,216,216,216,216,
216,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216
,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216
,125,216,216,216,216,216,216,216,216,216,216,216,216,216,
216,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216
,216,216,216,43,43,43,43,43,65,43,43,43,43,43,43,43
,43,43,43,43,43,43,43,43,43,43,216,216,216,216,
216,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216
,216,216,216,216,216,216,216,155,216,216,216,216,216,216,216,216
,216,216,216,216,216,216,216,216,216,216,216,216,216,216,
216,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216
,216,216,216,43,43,43,43,43,66,43,43,43,43,43,43,43
,43,43,43,43,43,43,43,43,43,43,216,216,216,216,
216,117,117,216,216,216,216,216,216,216,216,216,216,216,216,216
,216,216,216,216,216,119,216,184,216,216,216,216,216,216,216,216
,216,216,216,216,216,216,216,216,216,216,216,216,216,216,
216,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216
,216,216,216,43,43,43,43,43,43,43,43,43,43,43,43,43
,43,43,43,43,43,67,43,43,43,43,216,216,216,216,
216,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216
,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216
,216,127,216,216,216,216,216,216,216,216,216,216,216,216,
216,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216
,216,216,216,43,43,43,43,43,43,43,43,43,43,43,43,43
,43,43,68,43,43,43,43,43,43,43,216,216,216,216,
121,121,55,121,121,121,121,121,121,121,121,121,121,121,121,121
,121,121,121,121,121,121,121,121,121,121,121,121,121,121,121,121
,121,121,121,121,121,121,121,121,121,121,121,121,121,121,
216,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216
,216,216,216,43,43,43,43,69,43,43,43,43,43,43,43,43
,43,43,43,43,43,43,43,43,43,43,216,216,216,216,
216,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216
,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216
,216,216,216,216,129,216,216,216,216,216,216,216,216,216,
216,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216
,216,216,216,43,43,43,43,70,43,43,43,43,43,43,43,43
,43,43,43,43,43,43,43,43,43,43,216,216,216,216,
216,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216
,216,216,216,216,216,216,130,216,216,216,216,216,216,216,216,216
,216,216,216,216,216,216,216,216,216,216,216,216,216,216,
216,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216
,216,216,216,43,43,43,43,43,43,43,43,43,43,43,43,43
,43,43,43,43,71,43,43,43,43,43,216,216,216,216,
216,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216
,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216,158
,216,216,216,216,216,216,216,216,216,216,216,216,216,216,
216,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216
,216,216,216,43,43,43,43,74,43,43,43,43,43,43,43,43
,43,43,43,43,43,43,43,43,43,43,216,216,216,216,
216,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216
,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216
,216,216,216,216,216,133,216,216,216,156,216,216,216,216,
216,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216
,216,216,216,216,216,216,216,216,216,216,216,216,216,185,216,216
,216,216,216,216,216,216,216,216,216,216,216,216,216,216,
216,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216
,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216
,216,216,63,216,216,216,216,216,216,216,216,216,216,216,
216,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216
,216,216,216,216,216,207,216,216,216,216,216,216,216,216,216,216
,216,216,216,216,216,216,216,216,216,216,216,216,216,216,
216,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216
,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216
,216,216,216,137,216,216,216,216,216,216,216,216,216,216,
216,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216
,216,216,216,216,216,216,216,154,216,216,216,216,216,216,216,216
,216,216,216,216,216,216,216,216,216,216,216,216,216,216,
216,135,86,216,216,216,216,216,216,216,216,216,216,216,216,216
,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216
,216,216,216,216,216,216,216,216,216,216,216,216,216,216,
216,136,87,216,216,216,216,216,216,216,216,216,216,216,216,216
,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216
,216,216,216,216,216,216,216,216,216,216,216,216,216,216,
216,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216
,216,216,216,216,216,216,216,216,216,216,216,216,216,216,166,216
,216,216,216,216,169,216,216,216,216,216,216,216,216,216,
216,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216
,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216
,216,216,216,216,216,172,216,216,216,216,216,216,216,216,
216,139,88,216,216,216,216,216,216,216,216,216,216,216,216,216
,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216
,216,216,216,216,216,216,216,216,216,216,216,216,216,216,
216,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216
,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216
,216,216,72,216,216,216,216,216,216,216,216,216,216,216,
216,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216
,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216
,216,216,216,216,216,73,216,216,216,216,216,216,216,216,
216,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216
,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216
,75,216,216,216,216,216,216,216,216,216,216,216,216,216,
216,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216
,216,216,216,159,216,216,216,216,216,216,216,216,216,216,216,216
,216,216,216,216,216,216,216,216,216,216,216,216,216,216,
216,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216
,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216,76
,216,216,216,216,216,216,216,216,216,216,216,216,216,216,
216,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216
,216,216,216,216,216,148,216,216,216,216,216,216,216,216,216,216
,216,216,216,216,216,216,216,216,216,216,216,216,216,216,
216,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216
,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216
,216,216,216,216,216,77,216,216,216,216,216,216,216,216,
216,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216
,216,216,216,216,216,216,216,216,216,216,78,216,216,216,216,216
,216,216,216,216,216,216,216,216,216,216,216,216,216,216,
216,216,216,216,216,216,216,216,216,216,216,216,216,216,200,216
,216,216,216,200,200,200,200,200,200,200,200,190,200,200,200,200
,200,200,200,200,200,200,200,200,200,200,216,216,216,216,
216,216,216,216,216,216,151,216,216,216,216,216,216,216,216,216
,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216
,216,216,216,216,216,216,216,216,216,216,216,216,216,216,
216,216,216,216,216,216,152,216,216,216,216,216,216,216,216,216
,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216
,216,216,216,216,216,216,216,216,216,216,216,216,216,216,
216,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216
,216,216,216,43,43,43,43,43,43,43,43,215,43,43,165,43
,93,43,43,43,168,43,43,43,171,43,216,216,216,216,
216,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216
,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216
,141,216,216,216,216,216,216,216,216,216,216,216,216,216,
216,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216
,216,216,216,216,216,216,216,131,216,216,216,216,216,216,216,216
,216,216,216,216,216,216,216,216,216,216,216,216,216,216,
216,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216
,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216
,216,216,216,216,138,216,216,216,216,216,216,216,216,216,
216,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216
,216,216,216,216,216,216,132,216,216,216,216,216,216,216,216,216
,216,216,216,216,216,216,216,216,216,216,216,216,216,216,
216,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216
,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216,134
,216,216,216,216,216,216,216,216,216,216,216,216,216,216,
216,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216
,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216
,216,216,216,146,216,216,216,216,216,216,216,216,216,216,
216,216,216,216,216,216,216,216,216,216,216,216,216,216,200,216
,216,216,216,200,200,200,200,200,200,200,200,200,200,200,200,200
,200,95,200,200,200,200,200,200,200,200,216,216,216,216,
216,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216
,216,216,216,43,43,43,43,96,43,43,43,43,43,43,43,43
,43,43,43,43,43,43,43,43,43,43,216,216,216,216,
216,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216
,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216
,147,216,216,216,216,216,216,216,216,216,216,216,216,216,
216,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216
,216,216,216,216,216,216,216,140,216,216,216,216,216,216,216,216
,216,216,216,216,216,216,216,216,216,216,216,216,216,216,
216,216,216,216,216,216,216,216,216,216,216,216,216,216,200,216
,216,216,216,200,200,200,200,200,200,200,200,200,200,200,200,200
,200,98,200,200,200,200,200,200,200,200,216,216,216,216,
216,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216
,216,216,216,43,43,43,43,43,43,43,43,43,43,43,43,43
,43,43,43,43,99,43,43,43,43,43,216,216,216,216,
216,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216
,216,216,216,216,216,216,216,142,216,216,216,216,216,216,216,216
,216,216,216,216,216,216,216,216,216,216,216,216,216,216,
216,216,216,216,216,216,216,216,216,216,216,216,216,216,200,216
,216,216,216,200,200,200,200,200,200,200,200,200,200,200,200,200
,200,200,101,200,200,200,200,200,200,200,216,216,216,216,
216,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216
,216,216,216,43,43,43,43,102,43,43,43,43,43,43,43,43
,43,43,43,43,43,43,43,43,43,43,216,216,216,216,
216,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216
,216,216,216,216,216,216,216,143,216,216,216,216,216,216,216,216
,216,216,216,216,216,216,216,216,216,216,216,216,216,216,
216,216,216,216,216,216,216,216,216,216,216,216,216,216,200,216
,216,216,216,173,200,200,200,200,200,200,200,200,200,200,200,200
,200,104,200,200,200,200,200,200,200,200,216,216,216,216,
216,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216
,216,216,216,43,43,43,43,43,43,43,43,105,43,43,43,43
,43,43,43,43,43,43,43,43,43,43,216,216,216,216,
216,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216
,216,216,216,216,216,216,216,144,216,216,216,216,216,216,216,216
,216,216,216,216,216,216,216,216,216,216,216,216,216,216,
216,216,216,216,216,216,216,216,216,216,216,216,216,216,200,216
,216,216,216,200,200,200,200,200,200,200,200,200,200,200,200,200
,107,200,200,200,200,200,200,200,200,200,216,216,216,216,
216,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216
,216,216,216,43,43,43,43,108,43,43,43,43,43,43,43,43
,43,43,43,43,43,43,43,43,43,43,216,216,216,216,
216,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216
,216,216,216,43,43,43,43,43,43,43,43,43,43,43,43,43
,43,110,43,43,43,43,43,43,43,43,216,216,216,216,
216,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216
,216,216,216,43,43,43,43,43,43,43,43,112,43,43,43,43
,43,43,43,43,43,43,43,43,43,43,216,216,216,216,
216,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216
,216,216,216,43,43,43,43,43,43,43,43,43,43,43,43,43
,118,43,43,43,43,43,43,43,43,43,216,216,216,216,
216,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216
,216,216,216,43,43,43,43,43,43,43,43,43,43,43,43,43
,43,120,43,43,43,43,43,43,43,43,216,216,216,216,
216,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216
,216,216,216,43,43,43,122,43,43,43,43,43,43,43,43,43
,43,43,43,43,43,43,43,43,43,43,216,216,216,216,
216,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216
,216,216,216,43,43,43,43,43,43,124,43,43,43,43,43,43
,43,43,43,43,43,43,43,43,43,43,216,216,216,216,
216,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216
,216,216,216,43,43,43,43,43,43,43,43,43,43,43,43,43
,43,43,43,43,126,43,43,43,43,43,216,216,216,216,
216,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216
,216,216,216,43,43,43,128,43,43,43,43,43,43,43,43,43
,43,43,43,43,43,43,43,43,43,43,216,216,216,216,
216,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216
,216,216,216,43,43,43,43,174,43,43,43,43,43,43,43,43
,43,43,43,43,43,43,43,43,43,43,216,216,216,216,
216,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216
,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216
,157,216,216,216,216,216,216,216,216,216,216,216,216,216,
216,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216
,216,216,216,216,216,216,216,163,216,216,216,216,216,216,216,216
,216,216,216,216,216,216,216,216,216,216,216,216,216,216,
216,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216
,216,216,216,216,216,216,216,162,216,216,216,216,216,216,216,216
,216,216,216,216,216,216,216,216,216,216,216,216,216,216,
216,216,216,216,216,216,216,216,216,216,216,216,216,216,200,216
,216,216,216,200,200,200,200,200,200,200,200,200,200,200,200,167
,200,200,200,200,200,200,200,200,200,200,216,216,216,216,
216,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216
,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216,186
,216,216,216,216,216,216,216,216,216,216,216,216,216,216,
216,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216
,216,216,216,43,43,43,43,43,43,43,43,43,43,43,43,43
,43,175,43,43,43,43,43,43,43,43,216,216,216,216,
216,216,216,216,216,216,216,216,216,216,216,216,216,216,200,216
,216,216,216,200,200,200,200,200,200,200,200,200,200,200,200,200
,200,200,200,200,200,170,200,200,200,200,216,216,216,216,
216,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216
,216,216,216,43,43,43,43,43,43,176,43,43,43,43,43,43
,43,43,43,43,43,43,43,43,43,43,216,216,216,216,
216,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216
,216,216,216,43,43,43,43,177,43,43,43,43,43,43,43,43
,43,43,43,43,43,43,43,43,43,43,216,216,216,216,
216,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216
,216,216,216,43,43,43,43,43,43,43,43,43,43,43,43,43
,43,178,43,43,43,43,43,43,43,43,216,216,216,216,
216,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216
,216,216,216,43,43,43,43,43,43,43,43,43,43,43,43,43
,43,43,43,43,43,43,179,43,43,43,216,216,216,216,
216,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216
,216,216,216,180,43,43,43,43,43,43,43,43,43,43,43,43
,43,43,43,43,43,43,43,43,43,43,216,216,216,216,
216,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216
,216,216,216,43,43,43,43,181,43,43,43,43,43,43,43,43
,43,43,43,43,43,43,43,43,43,43,216,216,216,216,
216,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216
,216,216,216,43,43,43,43,43,43,43,43,43,43,43,43,43
,43,43,43,43,43,43,182,43,43,43,216,216,216,216,
216,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216
,216,216,216,43,43,43,43,191,43,43,43,43,43,43,43,43
,43,43,43,43,43,43,43,43,43,43,216,216,216,216,
216,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216
,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216,188
,216,216,216,216,216,216,216,216,216,216,216,216,216,216,
216,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216
,216,216,216,43,43,43,43,43,43,43,43,43,43,43,43,192
,43,43,43,43,43,43,43,43,43,43,216,216,216,216,
216,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216
,216,216,216,43,43,43,43,43,43,43,43,43,43,43,194,43
,43,43,43,43,43,43,43,43,43,43,216,216,216,216,
216,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216
,216,216,216,43,43,43,43,43,43,43,43,43,43,43,43,43
,43,43,43,43,195,43,43,43,43,43,216,216,216,216,
216,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216
,216,216,216,43,43,196,43,43,43,43,43,43,43,43,43,43
,43,43,43,43,43,43,43,43,43,43,216,216,216,216,
216,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216
,216,216,216,43,43,43,43,43,43,43,43,43,43,43,197,43
,43,43,43,43,43,43,43,43,43,43,216,216,216,216,
216,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216
,216,216,216,43,43,43,43,43,43,43,43,43,43,43,43,201
,43,43,43,43,43,43,43,43,43,43,216,216,216,216,
216,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216
,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216
,216,199,216,216,216,216,216,216,216,216,216,216,216,216,
216,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216
,216,216,216,43,43,202,43,43,43,43,43,43,43,43,43,43
,43,43,43,43,43,43,43,43,43,43,216,216,216,216,
216,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216
,216,216,216,43,43,43,43,43,43,43,43,43,43,43,43,43
,43,43,43,43,203,43,43,43,43,43,216,216,216,216,
216,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216
,216,216,216,43,43,43,43,43,43,43,43,43,43,43,43,43
,43,204,43,43,43,43,43,43,43,43,216,216,216,216,
216,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216
,216,216,216,43,43,205,43,43,43,43,43,43,43,43,43,43
,43,43,43,43,43,43,43,43,43,43,216,216,216,216,
216,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216
,216,216,216,43,43,43,43,43,43,43,43,43,43,43,43,43
,43,206,43,43,43,43,43,43,43,43,216,216,216,216,
216,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216
,216,216,216,43,43,43,43,209,43,43,43,43,43,43,43,43
,43,43,43,43,43,43,43,43,43,43,216,216,216,216,
216,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216
,216,216,216,43,43,43,43,43,43,43,43,43,43,43,43,43
,43,43,43,210,43,43,43,43,43,43,216,216,216,216,
216,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216
,216,216,216,43,43,43,43,43,43,43,43,43,43,43,43,43
,211,43,43,43,43,43,43,43,43,43,216,216,216,216
}
;
  




/* END of scanning tables */


/*
 * LOOKAHEAD
 *
 * [icode] -> type   (0=no lookahead, 1=fix prefix, 2=fix suffix, 3=variable length)
 * [icode] -> prefix (length or state)
 * [icode] -> suffix (length or state)
 *
 */

static UByte1 smLookaheadType[84]={
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
,0,0,0,0,0,0,0,0,0,0,2,2,0,0,0,0
,0,0,0,2,0,2,0,0,0,0,0,0,0,0,0,0
,0,0,0,0
}
;
static UByte1 smLookaheadPrefix[84]={
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
,0,0,0,0
}
;
static UByte1 smLookaheadSuffix[84]={
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0
,0,0,0,1,0,1,0,0,0,0,0,0,0,0,0,0
,0,0,0,0
}
;


static unsigned char *smLookahead(
     int smCode,
     unsigned char *smAt,
     unsigned char *smEnd)

{
  unsigned char *halt;
  unsigned char ch;
  int state;

  switch(smLookaheadType[smCode]) {
  case 1:			/* Fix prefix length */
    return smAt+smLookaheadPrefix[smCode];
  case 2:			/* Fix suffix length */
    return smEnd-smLookaheadSuffix[smCode];
  case 3:			/* Variable length */
    /* Scan forward */
    state=smLookaheadPrefix[smCode];
    for(;;) {


ch=smMap[*smAt++];




{



  
    
      
  state=smDFAval[smDFArow[state]+smDFAcol[ch]];
      
    
  

}

      if(state==216) break;
      if(smAccept[state]>0) {
	halt=smAt;
	continue;
      }
    }
    /* Scan bakward */
    state=smLookaheadSuffix[smCode];
    for(;;) {
      if(smAccept[state]>0 && smEnd<=halt) break;


ch=smMap[*--smEnd];




{



  
    
      
  state=smDFAval[smDFArow[state]+smDFAcol[ch]];
      
    
  

}

      }
    return smEnd;
  }
  return (unsigned char *) -1;
}








/*
 * Source position calculation 
 */


static void smSourcePosition(
     impScContext smThis,
     unsigned char *smAt,
     unsigned char *smEnd)

{
  if(smThis->smPosContinue<smEnd) {
    if(smThis->smPosContinue>smAt) smAt=smThis->smPosContinue;
    smThis->smNextPosition+=smEnd-smAt;

    for(;smAt<smEnd;smAt++) 
      if(*smAt==10) {
	smThis->smPosLine=smAt;
	smThis->smNextLine++;

      }

    smThis->smNextColumn=smEnd-smThis->smPosLine;

    smThis->smPosContinue=smEnd;
  }
}


static void smRewindSourcePosition(
     impScContext smThis,
     unsigned char *smAt,
     unsigned char *smEnd)

{
  if(smThis->smPosContinue>smEnd) return;
  smThis->smNextPosition-=smEnd-smAt;

  while(smAt<smEnd--) if(*smEnd==10) smThis->smNextLine--;
  while(smThis->smBegining<smEnd) 
    if(*smEnd==10) {
      smThis->smPosLine=smEnd;
      break; 
    }
    else smEnd--;
  if(smAt<smThis->smPosLine) smThis->smPosLine=smThis->smPosPrevLine;
  smThis->smNextColumn=smAt-smThis->smPosLine;

  smThis->smPosContinue=smAt;
}



/*
 * int smReadBuffer(SMContext smThis)
 *
 * SmThis function reads charcters using the reader into the buffer in a
 * context. The buffer is enlarged if the current buffer is full
 * (smEnd-smText==smSize) or reduced if current buffer is larger than
 * the standard buffer size and the token may fit the standard buffer
 * (smEnd-smText<smTokenSize AND smSize>smTokenSize). The function
 * returns the number of characters read into the buffer.
 *
 */


static int smReadBuffer(impScContext smThis)

{
  long length;
  int size;
  long mod;

  if(smThis->smBegining!=smThis->smText) {
    /* Move data to beginning of buffer */
    length=smThis->smEnd-smThis->smText;

    memcpy((void *)smThis->smBegining,(void *)smThis->smText,(size_t)length);

    if(length<1024 && smThis->smSize>1024) {
      /* Reduce buffer size */
      smThis->smSize=1024;

      smThis->smBegining=(unsigned char *)realloc(smThis->smBegining,(size_t)1024+1);

    }
  }
  else if(smThis->smBegining+smThis->smSize==smThis->smEnd) {
    /* Try to enlarge buffer */
    if(smThis->smSize==524288) {
      /* Cut Buffer */

      smSourcePosition(smThis,smThis->smText,smThis->smEnd-1024);


      memcpy((void *)smThis->smBegining,(void *)(smThis->smEnd-1024),(size_t)1024);


      mod=smThis->smEnd-smThis->smBegining-1024;

      smThis->smContinue-=mod;
      smThis->smEnd-=mod;
      smThis->smPosPrevLine-=mod;
      smThis->smPosLine-=mod;
      smThis->smPosContinue-=mod;
      smThis->smBufferOverflow+=mod;
    }
    else {
      unsigned char *begining = smThis->smBegining;

      size=smThis->smSize*1.5;

      if(size>524288) size=524288;
      /* Enlarge buffer */

      smThis->smBegining=(unsigned char *)realloc(smThis->smBegining,(size_t)size+1);

      if(smThis->smBegining==NULL) {
	/* Cut Buffer */
	smThis->smBegining = begining;	/* Restore to original buffer */

	smSourcePosition(smThis,smThis->smText,smThis->smEnd-1024);


	memcpy((void *)smThis->smBegining, (void *)(smThis->smEnd-1024), (size_t)1024);


	mod=smThis->smEnd-smThis->smBegining-1024;

	smThis->smContinue-=mod;
	smThis->smEnd-=mod;
	smThis->smPosPrevLine-=mod;
	smThis->smPosLine-=mod;
	smThis->smPosContinue-=mod;
        smThis->smBufferOverflow+=mod;
      }
      else
	smThis->smSize=size;
    }
  }
  if(smThis->smBegining!=smThis->smText) {

    mod=smThis->smText-smThis->smBegining;

    smThis->smContinue-=mod;
    smThis->smEnd-=mod;
    smThis->smPosPrevLine-=mod;
    smThis->smPosLine-=mod;
    smThis->smPosContinue-=mod;
    smThis->smText-=mod;
  }
  length=smThis->smSize-(smThis->smEnd-smThis->smBegining);
  length=impScReader(smThis,smThis->smEnd,(unsigned int)length);
  if(length<0) return length;
  smThis->smEnd+=length;

  return length;
}

/*
 * SMContext SMNew( impScScanner scanner )
 *
 * Create a new context.
 *
 */


impScContext impScNew(impScScanner smScanner)

{
  impScContext smThis;


  smThis=(impScContext)malloc((size_t)sizeof(impScContextItem));

  if(smThis==NULL) {
    return NULL;
  }

  smThis->smBegining=(unsigned char *)malloc((size_t)1024+1);

  if(smThis->smBegining==NULL) {
    free((char *)smThis);
    return NULL;
  }
  smThis->smSize=1024;
  smThis->smContinue=smThis->smBegining;
  smThis->smEnd=smThis->smBegining;
  smThis->smPosPrevLine=smThis->smBegining-1;
  smThis->smPosLine=smThis->smBegining-1;
  smThis->smPosContinue=smThis->smBegining;
  smThis->smText=smThis->smBegining;
  
  smThis->smLength=0;
  smThis->smNextLine=1;
  smThis->smNextColumn=1;
  smThis->smNextPosition=0;
  smThis->smLine=1;
  smThis->smColumn=1;
  smThis->smPosition=0;
  smThis->smScanner=smScanner;

  smThis->smBegining[0]=0;

  return smThis;
}

/*
 * void SMDelete( SMContext smThis )
 *
 * Destroy a context and associated buffer.
 *
 */


void impScDelete(impScContext smThis)

{
  free((char *)smThis->smBegining);
  free((char *)smThis);
}

/*
 * int SMSkip( SMContext smThis, int smLength )
 *
 * Enlarge/reduce the current token in a context with length characters.
 * If length is less than zero reduce the token, if length is greater
 * than zero enlarge the token.
 *
 */


int impScSkip(
     impScContext smThis,
     int smLength)

{
  int empty;

  if(smLength>0) {
    empty=smThis->smEnd-smThis->smContinue;
    if(empty<smLength) {
      empty=smReadBuffer(smThis);
      if(empty<0) return empty;
      empty=smThis->smEnd-smThis->smContinue;
      if(empty<smLength) smLength=empty;
    }

    smSourcePosition(smThis,smThis->smContinue,smThis->smContinue+smLength);

    smThis->smContinue+=smLength;
    smThis->smLength+=smLength;
  }
  else if(smLength<0) {
    smLength= -smLength;
    if(smLength>smThis->smLength) smLength=smThis->smLength;

    smRewindSourcePosition(smThis,smThis->smContinue-smLength,smThis->smContinue);

    smThis->smContinue-=smLength;
    smThis->smLength-=smLength;
    }
  return smLength;
}


int impScModify(
     impScContext smThis,
     unsigned char *smBuffer,
     int smLength)

{
  if(smLength<0) {
/* This code is identical to smSkip but no source position is rewinded */
    smLength= -smLength;
    if(smLength>smThis->smLength) smLength=smThis->smLength;
    smThis->smContinue-=smLength;
    smThis->smLength-=smLength;
/***********************************************************************/

    memcpy((void *)smThis->smContinue,(void *)smBuffer,(size_t)smLength);

    return smLength;
  }
  else if(smLength>0) {
    int length1;
    int length2;
    
    for(length2=smLength;(length1=impScSkip(smThis,length2));length2-=length1) {
      if(length1<0) return length1;

      memcpy((void *)(smThis->smContinue-length1),(void *)smBuffer,(size_t)length1);

      smBuffer+=length1;
    }
    return smLength-length2;
  }
  return smLength;
}


int impScCopy(
     impScContext smThis,
     unsigned char *smBuffer,
     unsigned int smFrom,
     unsigned int smTo)

{
  if(smFrom>smThis->smLength) smFrom=smThis->smLength;
  if(smTo>smThis->smLength) smTo=smThis->smLength;

  memcpy((void *)smBuffer,(void *)(smThis->smText+smFrom),(size_t)smTo-smFrom);

  return smTo-smFrom;
}


int impScMapCopy(
     impScContext smThis,
     unsigned char *smBuffer,
     unsigned int smFrom,
     unsigned int smTo)

{
  int n;
  int len;
  unsigned char *at;

  if(smFrom>smThis->smLength) smFrom=smThis->smLength;
  if(smTo>smThis->smLength) smTo=smThis->smLength;
  len=0;
  for(n=smFrom,at=smThis->smText+smFrom;n<smTo;n++) {


*smBuffer++=smMap[*at++];



    len++;
  }
  return len;
}


void impScScrScanner(
     impScScanner smScanner,
     int smOnOff)

{

}


void impScScrToken(
     impScScanner smScanner,
     int smCode,
     int smOnOff)

{

}


void impScScrRule(
     impScScanner smScanner,
     int smCode,
     int smOnOff)

{

}


int impScan(
     impScContext smThis,
     TmToken *smToken)

{
  unsigned char *at;
  unsigned char *end;
  unsigned char *rew_at;
  unsigned char ch;
  int state;
  int rew_state;
  int code;


  do {				/* Skip loop */

 
    smThis->smLine=smThis->smNextLine;
    smThis->smColumn=smThis->smNextColumn;

    smThis->smPosition=smThis->smNextPosition;


    end=(smThis->smEnd);
    smThis->smText=smThis->smContinue;
    smThis->smBufferOverflow=0;

 
    smToken->srcp.line=smThis->smNextLine;
    smToken->srcp.col=smThis->smNextColumn;

    smThis->smPosPrevLine=smThis->smPosLine;

    rew_at=smThis->smText;
    do {			/* Continue loop */
      rew_state=216;
      rew_at++;
      at=(smThis->smContinue);
      state=smScanner[smThis->smScanner];
      for (;;) {

	if(at==end) {
	  int mod;
	  
	  if(state>=216) state-=216+1;
	  smThis->smContinue=end;
	  mod=smReadBuffer(smThis);
	  if(mod<0) return mod;
	  rew_at-=end-smThis->smContinue;
	  at=smThis->smContinue;
	  end=smThis->smEnd;
          if(at==end) 
	    break;
        }

	  ch = *at++;

{



  
    
      
  state=smDFAval[smDFArow[state]+smDFAcol[ch]];
      
    
  

}

	  if(state>=216) break;
	  if(smAccept[state]>0) {
	    rew_state=state;
	    rew_at=at;
	  }

      }
      if(rew_state==216) {
        if(rew_at>end) {
  	  code=smEOTCode[smThis->smScanner];
	  rew_at=end;
        }
        else
	  code=smUnknownCode[smThis->smScanner];
      }	
      else
	code=smAccept[rew_state]-1;	


      if(smLookaheadType[code])
	smThis->smContinue=smLookahead(code,smThis->smText,rew_at);
      else
	smThis->smContinue=rew_at;

      smThis->smLength=smThis->smContinue-smThis->smText;



      smSourcePosition(smThis,smThis->smText,smThis->smContinue);



      smToken->code=smTokenCode[code]-1;
      code=impScAction(smThis,code,smToken);

    } while(code<-1);


    smToken->code=code;
    code=impScPostHook(smThis,smToken);

  } while(code<0);
  return smToken->code=code;
}

